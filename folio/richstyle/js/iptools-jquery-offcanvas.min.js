/*! iptools-jquery-offcanvas - v0.2.0 - 2016-04-11
* https://github.com/interactive-pioneers/iptools-jquery-offcanvas
* Copyright Â© 2016 Interactive Pioneers GmbH; Licensed GPL-3.0 */
!function(a,b,c){"use strict";function d(b,c){this.settings=a.extend({},t,c),this.$element=a(b);var d=o(this);if(""!==d)throw new Error(q+": "+d);this.id=this.$element.attr("id"),this.$open=a("[data-"+r.open+'="'+this.id+'"]'),this.$close=a("[data-"+r.close+'="'+this.id+'"]'),l(this),p(this),this.$element.trigger(n("initialized"))}function e(a){var b=a.data;b.settings["static"]&&b.toggle(!0),b.$element.addClass(v+w.initialized)}function f(a){a.data.toggle(a),a.stopPropagation()}function g(a){a.data.toggle(a,!0),a.stopPropagation()}function h(a){a.data.toggle(a,!1),a.stopPropagation()}function i(b){b.settings.closeOnClickOutside&&!b.settings["static"]&&a(c).on(n("click",b.id),null,b,k).on(n("touchstart",b.id),null,b,k)}function j(b){a(c).off(n("click",b.id)).off(n("touchstart",b.id))}function k(a){var b=a.data;b.$element.is(a.target)||0!==b.$element.has(a.target).length||b.toggle(a,!1)}function l(a){a.$element.addClass(a.settings.baseClass+u[a.settings.type].baseClass)}function m(a){return"."+v+a}function n(a,b){return"undefined"==typeof b?a+"."+q:a+"."+b+"@"+q}function o(b){return""===a.trim(b.$element.attr("id"))?"Required attr `id` missing on element!":"undefined"==typeof u[b.settings.type]?"Invalid type `"+b.settings.type+"` given!":""}function p(a){a.$element.on(n("initialized"),null,a,e).on(n("toggle"),null,a,f).on(n("open"),null,a,g).on(n("close"),null,a,h),a.$open.on(n("click"),null,a,g).on(n("touchstart"),null,a,g),a.$close.on(n("click"),null,a,h).on(n("touchstart"),null,a,h)}var q="iptOffCanvas",r={open:"offcanvas-open",close:"offcanvas-close"},s=function(){return!0},t={baseClass:"offcanvas",closeOnClickOutside:!1,single:!0,"static":!1,staticCondition:s,type:"right"},u={top:{baseClass:"--top",activeClass:"--top--active"},right:{baseClass:"--right",activeClass:"--right--active"},bottom:{baseClass:"--bottom",activeClass:"--bottom--active"},left:{baseClass:"--left",activeClass:"--left--active"}},v="offcanvas",w={content:"__content",initialized:"--initialized"};d.prototype.isActive=function(){return this.$element.hasClass(this.settings.baseClass+u[this.settings.type].activeClass)},d.prototype.toggle=function(b,c){var d,e=this.settings.baseClass+u[this.settings.type].activeClass;"undefined"==typeof c&&(c=!this.isActive()),this.settings.single&&c&&a(m(w.initialized)).each(function(){d=a(this).data("plugin_"+q),d.settings["static"]&&d.settings.staticCondition()||a(this).trigger(n("close"))});var f="";c&&!this.isActive()?(f="opened",i(this)):!c&&this.isActive()&&(f="closed",j(this)),""!==f&&this.$element.trigger(n(f),b),this.$element.toggleClass(e,c)},d.prototype.destroy=function(){this.$open.off("."+q),this.$close.off("."+q),this.$element.off("."+q).removeData("plugin_"+q)},a.fn[q]=function(b){return this.each(function(){a.data(this,"plugin_"+q)||a.data(this,"plugin_"+q,new d(this,b))})}}(jQuery,window,document);